<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Sitecore.React - a new Sitecore module | Sitecore Nuts &amp; Bolts</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I recently wrote a series of posts on how we could use React to create Sitecore components. React looks to be a great fit for Sitecore becuase just like Sitecore it is based around components that you">
<meta name="keywords" content="Sitecore,ReactJS,Marketplace,Module">
<meta property="og:type" content="article">
<meta property="og:title" content="Sitecore.React - a new Sitecore module">
<meta property="og:url" content="http://www.sitecorenutsbolts.net/2016/08/02/Sitecore-React-a-new-Sitecore-module/index.html">
<meta property="og:site_name" content="Sitecore Nuts &amp; Bolts">
<meta property="og:description" content="I recently wrote a series of posts on how we could use React to create Sitecore components. React looks to be a great fit for Sitecore becuase just like Sitecore it is based around components that you">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://www.sitecorenutsbolts.net/2016/08/02/Sitecore-React-a-new-Sitecore-module/insertfromtemplate.png">
<meta property="og:image" content="http://www.sitecorenutsbolts.net/2016/08/02/Sitecore-React-a-new-Sitecore-module/reactcontrollerrendering.png">
<meta property="og:image" content="http://www.sitecorenutsbolts.net/2016/08/02/Sitecore-React-a-new-Sitecore-module/samplereactrendering.png">
<meta property="og:updated_time" content="2020-05-12T14:52:21.814Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sitecore.React - a new Sitecore module">
<meta name="twitter:description" content="I recently wrote a series of posts on how we could use React to create Sitecore components. React looks to be a great fit for Sitecore becuase just like Sitecore it is based around components that you">
<meta name="twitter:image" content="http://www.sitecorenutsbolts.net/2016/08/02/Sitecore-React-a-new-Sitecore-module/insertfromtemplate.png">
  
  

  <link rel="stylesheet" href="/css/style.css">
  
  
  


  

<!--
  
    <link href='//fonts.useso.com/css?family=Titillium+Web:300,400,600' rel='stylesheet' type='text/css'>
    <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
-->
</head>
</html>
<body>
  <div id="wrap">
    <header id="header">
  <div id="header-outer" class="outer">
    <div class="container">
      <div class="container-inner">
        <div id="header-title">
          <h1 class="logo-wrap">
            <a href="/" class="logo"></a>
          </h1>
          
            <h2 class="subtitle-wrap">
              <p class="subtitle">Design it, Code it, Build it. C# &amp; Sitecore!</p>
            </h2>
          
          
          <div class="mvp">
            <a href="http://www.sitecore.net/mvp" target="_blank">
              <img src="/about/index/MVP2016.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
              <img src="/about/index/Technology2020.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
              <img src="/about/index/Technology2019.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
              <img src="/about/index/Technology2018.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
                <img src="/about/index/Technology2017.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
                <img src="/about/index/Technology2016.jpg" alt="Sitecore MVP 2016-2020">
            </a>
          </div>
          
        </div>
        <div id="header-inner" class="nav-container">
          <a id="main-nav-toggle" class="nav-icon"></a>
          <div class="nav-container-inner">
            <ul id="main-nav">
              
            </ul>
            <nav id="sub-nav">
              <div id="search-form-wrap">
                <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://www.sitecorenutsbolts.net"></form>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
    <div class="container">
      <div class="main-body container-inner">
        <div class="main-body-inner">
          <section id="main">
            <div class="main-body-header">

              <h1 class="header"><a class="page-title-link" href="/categories/Sitecore-React/">Sitecore.React</a></h1>
            </div>
            <div class="main-body-content">
              
  <article id="post-Sitecore-React-a-new-Sitecore-module" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
      <!--  -->
      
        <header class="article-header">
          
  
    <h1 class="article-title" itemprop="name">
      Sitecore.React - a new Sitecore module
    </h1>
  

        </header>
      
      <p class="article-byline">
        <a href="/2016/08/02/Sitecore-React-a-new-Sitecore-module/" class="article-date">
  <time datetime="2016-08-02T11:58:02.000Z" itemprop="datePublished">2016-08-02</time>
</a>
      </p>
      <div class="article-entry" itemprop="articleBody">
        <code>Estimated reading time:<span class="eta"></span></code>
        <p>I recently wrote a series of posts on how we could use <a href>React</a> to create Sitecore components. React looks to be a great fit for Sitecore becuase just like Sitecore it is based around components that you can create and compose to make complex UIs. As an added benefit, using React to write the front end instead of Razor means that our front end teams do not have to know or even care about Sitecore. We can have a FED team that purely concentrates on building atomic components and as back end developers we can focus on developing the Sitecore part. This workflow can reduce the number of errors introduced when transfering the front end code into back end razor scripts.</p>
<p>Also - its pretty cool to be able to use a front end technology like React in a Sitecore environment.</p>
<h2 id="Dynamic-Placeholders"><a href="#Dynamic-Placeholders" class="headerlink" title="Dynamic Placeholders"></a>Dynamic Placeholders</h2><p>As part of the roadmap I wanted to explore Dynamic Placeholders. As it turned out Jakob Christensen has already got a pretty neat solution for this with the <a href="https://github.com/JakobChristensen/Sitecore.Pathfinder/blob/master/src/Features/Sitecore.Pathfinder.React/Jsx/JsxRenderer.cs" target="_blank" rel="noopener">JsxRendering</a> in Pathfinder.</p>
<p>To add a placeholder to your <code>Jsx</code> component you simply need to use the <code>placeholders</code> object in the props for the component. Then give it the placeholder key you want to use. For example, if you wanted to create a placeholder called “content” you would use:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="keyword">this</span>.props.placeholder.content&#125;</span><br></pre></td></tr></table></figure>
<p>So we have standard placeholders. This is the code that renders the placeholders. Notice we have a special prefix that allows dynamic placeholders:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> placeholderKeys = placeholdersField.Split(Constants.Comma, StringSplitOptions.RemoveEmptyEntries).Select(p =&gt; p.Trim()).ToList();</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> placeholderKey <span class="keyword">in</span> placeholderKeys)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (placeholderKey.StartsWith(<span class="string">"$Id."</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (placeholderId == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            placeholderId = <span class="keyword">new</span> ExpandoObject();</span><br><span class="line">            placeholdersDictionary[<span class="string">"$Id"</span>] = placeholderId;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ((IDictionary&lt;<span class="keyword">string</span>, <span class="keyword">object</span>&gt;)placeholderId)[placeholderKey.Mid(<span class="number">3</span>)] = PageContext.Current.HtmlHelper.Sitecore().Placeholder(controlId + placeholderKey.Mid(<span class="number">3</span>)).ToString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        placeholdersDictionary[placeholderKey] = PageContext.Current.HtmlHelper.Sitecore().Placeholder(placeholderKey).ToString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This means that to use a dynamic placeholder in <code>Jsx</code> we just need to prefix the placeholder key with <code>$Id.</code>. This then automatically appends the rendering unique Id to the placeholder key. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="keyword">this</span>.props.placeholder.$Id.content&#125;</span><br></pre></td></tr></table></figure>
<p>For now, these dynamic placeholders are best used with the Experience Editor, as they are not predictable. In future versions there will be a switch to change the dynamic placeholder keys to predictable ones. This will make it easier to build presentation in the Content Editor.</p>
<h2 id="Sitecore-Module"><a href="#Sitecore-Module" class="headerlink" title="Sitecore Module"></a>Sitecore Module</h2><p>The examples so far have all been based around the Sitecore <a href="https://github.com/Sitecore/Habitat" target="_blank" rel="noopener">Habitat</a> project. That doesn’t help for a lot of existing installations. So I have now submitted it as a Sitecore Module available in the Marketplace. You can view the module <a href="https://marketplace.sitecore.net/Modules/S/SitecoreReact.aspx" target="_blank" rel="noopener">here</a> once it has passed the review. For those of you that can’t wait, the source for the module is on GitHub <a href="https://github.com/GuitarRich/sitecore.react" target="_blank" rel="noopener">https://github.com/GuitarRich/sitecore.react</a>.</p>
<h3 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h3><p>The Sitecore module consists of 2 parts. The <a href="https://github.com/GuitarRich/sitecore.react/raw/master/build/Sitecore%20Package/SitecoreReact-1.0.0.zip" target="_blank" rel="noopener">Sitecore Package</a> contains all the templates required for the React renderings. The nuget package contains all the code to render the React components.</p>
<ul>
<li>First install the <a href="https://github.com/GuitarRich/sitecore.react/raw/master/build/Sitecore%20Package/SitecoreReact-1.0.0.zip" target="_blank" rel="noopener">Sitecore Package</a></li>
<li><p>Next install the NuGet package in your Visual Studio solution:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Install-Package Sitecore.React</span><br></pre></td></tr></table></figure>
</li>
<li><p>Now you can create your first React component. We will create a simple Title/Body component.</p>
</li>
</ul>
<blockquote>
<p>SampleReactController.cs<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> SampleReactController : Controller </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> ActionResult SampleReactRendering </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> data = <span class="keyword">new</span> &#123;</span><br><span class="line">            Title = FieldRenderer(Sitecore.Context.Item, <span class="string">"Title"</span>),</span><br><span class="line">            Body = FieldRenderer(Sitecore.Context.Item, <span class="string">"Body"</span>)</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.React(<span class="string">"~/views/react/SampleReactRendering.jsx"</span>, data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>Make sure that the <code>ActionResult</code> returns <code>this.React</code> - pass in the location to the <code>Jsx</code> file and the view model containing your data.</p>
<blockquote>
<p>SampleReactRendering.jsx<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> SampleReactRendering = React.createClass(&#123;</span><br><span class="line">    render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;h1 dangerouslySetInnerHTML=&#123;&#123;<span class="attr">__html</span>: <span class="keyword">this</span>.props.data.Title&#125;&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">                &lt;div dangerouslySetInnerHTML=&#123;&#123;<span class="attr">__html</span>: <span class="keyword">this</span>.props.data.Body&#125;&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        );</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<ul>
<li><p>Next we need to create the rendering item in Sitecore. Right click the folder where you want to create your rendering and select <em>Insert from Template</em>:</p>
<img src="/2016/08/02/Sitecore-React-a-new-Sitecore-module/insertfromtemplate.png" title="Insert from template">
</li>
<li><p>Select a <strong>React Controller Rendering</strong>. Call it <code>SampleReactRendering</code></p>
<img src="/2016/08/02/Sitecore-React-a-new-Sitecore-module/reactcontrollerrendering.png" title="React Controller Rendering">
</li>
<li><p>Fill in the the fields in the rendering item:</p>
<ul>
<li><strong>JSX File</strong>: set this to the location of your jsx file</li>
<li><strong>Controller</strong>: set to the controller class containing your rendering action</li>
<li><strong>Controller Action</strong>: set to the <code>ActionResult</code> in your controller<img src="/2016/08/02/Sitecore-React-a-new-Sitecore-module/samplereactrendering.png" title="SampleReactRendering">
</li>
</ul>
</li>
<li><p>Finally, you need to make sure that the React JavaScript components and the React bundle added to the main layout:</p>
</li>
</ul>
<pre><code class="html"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//fb.me/react-15.0.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>
<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//fb.me/react-dom-15.0.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>
@Scripts.Render(Sitecore.React.Configuration.Settings.ReactBundleName)
</code></pre>
<p>And that is it. Add your rendering to the presentation of an item and publish all the changes. The React component will be rendered Server-Side, the bundle will transpose the <code>Jsx</code> to `JavaScipt for any client-side rendering for state changes.</p>
<p>Please try it out and add comments here, or reach out to me on the <a href="http://sitecorechat.slack.com" target="_blank" rel="noopener">Sitecore Slack Community</a> - dm @guitarrich</p>

      </div>
      <footer class="article-footer">
        <a data-url="http://www.sitecorenutsbolts.net/2016/08/02/Sitecore-React-a-new-Sitecore-module/" data-id="cka5tzga8005cgsvroxlm7o15" class="article-share-link">Share</a>
        
          <a href="http://www.sitecorenutsbolts.net/2016/08/02/Sitecore-React-a-new-Sitecore-module/#comments" class="article-comment-link">Comments</a>
        
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Marketplace/">Marketplace</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Module/">Module</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReactJS/">ReactJS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sitecore/">Sitecore</a></li></ul>

      </footer>
    </div>
  </article>
  
    <section id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </section>
  


<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55d6161f325b85fa" async="async"></script>
            </div>
          </section>
          <aside id="sidebar">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
  <div class="sidebar-top">
    <p>follow:</p>
    <ul class="social-links">
      
    </ul>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/09/17/Habitat-Dependency-Injection-with-Sitecore-8-2/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">newer</strong>
      <p class="article-nav-title">
        
          Habitat Dependency Injection with Sitecore 8.2
        
      </p>
      <i class="icon" id="icon-chevron-right"></i>
    </a>
  
  
    <a href="/2016/07/23/Sitecore-and-React-It-IS-that-easy-Part-II/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <p class="article-nav-title">Sitecore and React - It IS that easy - Part II</p>
      <i class="icon" id="icon-chevron-left"></i>
    </a>
  
</nav>

  
  <div class="widgets-container">
    
  </div>
</aside>
        </div>
      </div>
    </div>
    <footer id="footer">
  
  <div class="container">
    <div class="container-inner">
      <a id="back-to-top" href="javascript:;"><i class="icon" id="icon-angle-up"></i></a>
      <div class="credit">
        <h1 class="logo-wrap">
          <a href="/" class="logo"></a>
        </h1>
        <p>&copy; 2020 Richard Seal</p>
        <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>.
      </p></div>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'sitecorenutsbolts';
  
  var disqus_url = 'http://www.sitecorenutsbolts.net/2016/08/02/Sitecore-React-a-new-Sitecore-module/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



  <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>






<script src="/js/html-patch.js"></script>
<script src="/js/script.js"></script>
<script src="/js/readingTime.min.js"></script>

<script>
  $(function() {
    $('.article-entry').readingTime();
  });
</script>

  </div>
</body>
</html>
