<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Sitecore 9: Dynamic Placeholders At Last! | Sitecore Nuts &amp; Bolts</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Hell yeah - finally dynamic placeholders come out of the box with Sitecore 9. This has probably been one of the most asked for features in Sitecore for a long time. Fortunately there have been a few">
<meta name="keywords" content="Sitecore,Sitecore 9,Dynamic Placeholders">
<meta property="og:type" content="article">
<meta property="og:title" content="Sitecore 9: Dynamic Placeholders At Last!">
<meta property="og:url" content="http://www.sitecorenutsbolts.net/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/index.html">
<meta property="og:site_name" content="Sitecore Nuts &amp; Bolts">
<meta property="og:description" content="Hell yeah - finally dynamic placeholders come out of the box with Sitecore 9. This has probably been one of the most asked for features in Sitecore for a long time. Fortunately there have been a few">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://www.sitecorenutsbolts.net/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/soexcited.gif">
<meta property="og:image" content="http://www.sitecorenutsbolts.net/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/renderingparams.png">
<meta property="og:updated_time" content="2020-05-12T14:52:21.745Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sitecore 9: Dynamic Placeholders At Last!">
<meta name="twitter:description" content="Hell yeah - finally dynamic placeholders come out of the box with Sitecore 9. This has probably been one of the most asked for features in Sitecore for a long time. Fortunately there have been a few">
<meta name="twitter:image" content="http://www.sitecorenutsbolts.net/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/soexcited.gif">
  
  

  <link rel="stylesheet" href="/css/style.css">
  
  
  


  

<!--
  
    <link href='//fonts.useso.com/css?family=Titillium+Web:300,400,600' rel='stylesheet' type='text/css'>
    <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
-->
</head>
</html>
<body>
  <div id="wrap">
    <header id="header">
  <div id="header-outer" class="outer">
    <div class="container">
      <div class="container-inner">
        <div id="header-title">
          <h1 class="logo-wrap">
            <a href="/" class="logo"></a>
          </h1>
          
            <h2 class="subtitle-wrap">
              <p class="subtitle">Design it, Code it, Build it. C# &amp; Sitecore!</p>
            </h2>
          
          
          <div class="mvp">
            <a href="http://www.sitecore.net/mvp" target="_blank">
              <img src="/about/index/MVP2016.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
              <img src="/about/index/Technology2020.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
              <img src="/about/index/Technology2019.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
              <img src="/about/index/Technology2018.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
                <img src="/about/index/Technology2017.jpg" alt="Sitecore MVP 2016-2020">
            </a>
            <a href="http://www.sitecore.net/mvp" target="_blank">
                <img src="/about/index/Technology2016.jpg" alt="Sitecore MVP 2016-2020">
            </a>
          </div>
          
        </div>
        <div id="header-inner" class="nav-container">
          <a id="main-nav-toggle" class="nav-icon"></a>
          <div class="nav-container-inner">
            <ul id="main-nav">
              
            </ul>
            <nav id="sub-nav">
              <div id="search-form-wrap">
                <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://www.sitecorenutsbolts.net"></form>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
    <div class="container">
      <div class="main-body container-inner">
        <div class="main-body-inner">
          <section id="main">
            <div class="main-body-header">

              <h1 class="header"><a class="page-title-link" href="/categories/Sitecore-9/">Sitecore 9</a></h1>
            </div>
            <div class="main-body-content">
              
  <article id="post-Sitecore-9-Dynamic-Placeholders-At-Last" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
      <!--  -->
      
        <header class="article-header">
          
  
    <h1 class="article-title" itemprop="name">
      Sitecore 9: Dynamic Placeholders At Last!
    </h1>
  

        </header>
      
      <p class="article-byline">
        <a href="/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/" class="article-date">
  <time datetime="2017-10-17T12:00:00.000Z" itemprop="datePublished">2017-10-17</time>
</a>
      </p>
      <div class="article-entry" itemprop="articleBody">
        <code>Estimated reading time:<span class="eta"></span></code>
        <img src="/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/soexcited.gif" title="I" alt="m so excited">
<p>Hell yeah - finally dynamic placeholders come out of the box with Sitecore 9. This has probably been one of the most asked for features in Sitecore for a long time. Fortunately there have been a few community modules that have helped in the past. One of the most popular was the <a href="https://github.com/Fortis-Collection/dynamic-placeholders" target="_blank" rel="noopener">Fortis Dynamic Placeholders</a> which used the rendering item’s unique Id to generate the placeholder key.</p>
<h2 id="So-what-does-Dynamic-Placeholders-give-us-now"><a href="#So-what-does-Dynamic-Placeholders-give-us-now" class="headerlink" title="So what does Dynamic Placeholders give us now?"></a>So what does Dynamic Placeholders give us now?</h2><p>At the basic level, you can use dynamic placeholders in the same way as the Fortis ones. Just by adding one to your rendering:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Html.Sitecore().DynamicPlaceholder("placeholderKey")</span><br></pre></td></tr></table></figure>
<p>But that is just the start of it. Let’s have a deeper dive into some of the more advanced features of the new Dynamic Placeholders:</p>
<h2 id="Multiple-Placeholders"><a href="#Multiple-Placeholders" class="headerlink" title="Multiple Placeholders"></a>Multiple Placeholders</h2><p>If we look at the overloads for dynamic placeholders we see that there are parameters for <code>count</code> and <code>seed</code>.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Html.Sitecore().DynamicPlaceholder(<span class="keyword">string</span> placeholderName, <span class="keyword">int</span> count = <span class="number">1</span>, <span class="keyword">int</span> maxCount = <span class="number">0</span>, <span class="keyword">int</span> seed = <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>Looking at the documentation <code>count</code> specifies how many placeholders Sitecore will render for that key, <code>seed</code> specifies the starting number that the suffix will use and <code>maxCount</code> limits the number of placeholders that Sitecore will create. Sitecore will use the format: <code>{placeholder key}-{rendering unique suffix}-{unique suffix within rendering}</code>. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">content-&#123;7a943e27-b649-400c-986d-33d07f0f50ca&#125;-1</span><br></pre></td></tr></table></figure>
<p>These extra parameters make the new Dynamic Placeholders very flexible. They no longer just deal with a component containing a placeholer being able to be added to the page multiple times, but also creating multiple placeholders in the same component. We will dig deeper in to why you might want to do that later.</p>
<h2 id="Modifying-the-Chrome"><a href="#Modifying-the-Chrome" class="headerlink" title="Modifying the Chrome"></a>Modifying the Chrome</h2><p>Another look at the overloads and we can see that there are some methods that allow us to control the markup that wraps each placeholder created by this one call.</p>
<p>First you can pass a <code>TagBuilder</code>, this is handy, but what if you need to know something about the context of this placeholder? For example the index of this placeholer. Well you can also supply the call a function that returns a <code>TagBuilder</code> object. That function also has a <code>DynamicPlaceholderRenderContext</code> object passed in. This gives you detail about that context of each placeholder as it is added.</p>
<p>Let’s say that you wanted to build an accordion component, but instead of limiting the content of each accordion, we want to set the accordion content using a placeholder so that we can dynamically build that content. Historically, you would build the markup for the accordion and in the center add your dynamic placeholder implementation.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@foreach(var accordionItem in Model.AccordionItems) &#123;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapse accordion-@(accordionItem.Index)"</span>&gt;</span></span><br><span class="line">        Html.Sitecore().Placeholder("accordion-" + accordionItem.Index)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We could make this simpler by using the <code>TagBuilder</code> like this:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Html.Sitecore().DynamicPlaceholder(<span class="string">"accordion"</span>, context =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> tag = <span class="keyword">new</span> TagBuilder(<span class="string">"li"</span>);</span><br><span class="line">    tag.AddCssClass(<span class="string">"collapse"</span>)</span><br><span class="line">    tag.AddCssClass(<span class="string">"accordion-"</span> + context.Index)</span><br><span class="line">    <span class="keyword">return</span> tag;</span><br><span class="line">&#125;, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<p>This will then generate 3 <code>li</code> tags with the class set to <code>collapse accordion-1</code> etc… </p>
<p>But the <code>TagBuilder</code> can make the markup difficult to read, maybe we want to use more readable markup. We can also do that by using the overload with the <code>outputModifier</code> - this allows us to build a <code>HtmlString</code> object and return it.</p>
<p>Finally you can also pass in a <code>DynamicPlaceholderDefinition</code> - in both of these you can specify the mark up you want to use to wrap the contents of the placeholder. Here is the above example using that:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Html.Sitecore().DynamicPlaceholder(<span class="keyword">new</span> DynamicPlaceholderDefinition(<span class="string">"accordion"</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Count = <span class="number">3</span>,</span><br><span class="line">    MaxCount = <span class="number">10</span>,</span><br><span class="line">    Seed = <span class="number">1</span>,</span><br><span class="line">    OutputModifier = (input, context) =&gt; <span class="keyword">new</span> HtmlString(<span class="string">"&lt;li class=\"collapse accordion-"</span> + context.Index + <span class="string">"\"&gt;"</span> + input + <span class="string">"&lt;/li&gt;"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="Bringing-this-to-life"><a href="#Bringing-this-to-life" class="headerlink" title="Bringing this to life"></a>Bringing this to life</h2><p>So why is all of this so cool? Well, lets imagine you want to create an accordion or maybe a tabbed component. The content editor will need to be able to specify the number of accordion elememts or tabs and then using the Experience Editor, build out the content.</p>
<p>Using rendering parameters and dynamic placeholders we can achieve that. Dynamic Placeholders will automatically look for properties on the rendering parameters that follow this pattern: <code>ph_placeholderKey_paramName</code>. This means that to override things like <code>count</code>, <code>seed</code> etc.. you just have to add an additional property to the component properties like this:</p>
<img src="/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/renderingparams.png" title="Additional Properties">
<p>Now 10 placeholders will be created. Note that adding this additional property <em>will</em> override the setting you specified in the razor view, with the exception of the <code>MaxCount</code> property. So if you want your content editors to be able to add/remove placeholders via component properties, it is important to remember to set limits so that things can’t get too crazy.</p>
<h2 id="Important-Things-to-remember"><a href="#Important-Things-to-remember" class="headerlink" title="Important: Things to remember"></a>Important: Things to remember</h2><p>There are some things to remember when using dynamic placeholders. First, the placeholder only knows about its own call. It does not know about any other dynamic placeholders that might be on the page. Take the following code:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"myComponent"</span>&gt;</span><br><span class="line">    &lt;h2&gt;Section <span class="number">1</span>&lt;/h2&gt;</span><br><span class="line">    @Html.Sitecore().DynamicPlaceholder(<span class="string">"column"</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    &lt;h2&gt;Section <span class="number">2</span>&lt;/h2&gt;</span><br><span class="line">    @Html.Sitecore().DynamicPlaceholder(<span class="string">"column"</span>, <span class="number">2</span>)</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>This would be the equivalent of:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"myComponent"</span>&gt;</span><br><span class="line">    &lt;h2&gt;Section <span class="number">1</span>&lt;/h2&gt;</span><br><span class="line">    @Html.Sitecore().Placeholder(<span class="string">"column_&#123;...&#125;_0"</span>)</span><br><span class="line">    @Html.Sitecore().Placeholder(<span class="string">"column_&#123;...&#125;_1"</span>)</span><br><span class="line"></span><br><span class="line">    &lt;h2&gt;Section <span class="number">2</span>&lt;/h2&gt;</span><br><span class="line">    @Html.Sitecore().Placeholder(<span class="string">"column_&#123;...&#125;_0"</span>)</span><br><span class="line">    @Html.Sitecore().Placeholder(<span class="string">"column_&#123;...&#125;_1"</span>)</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>The second call to the dynmic placeholders does not know anything about the first. To do this you would need to set the <code>seed</code> property:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"myComponent"</span>&gt;</span><br><span class="line">    &lt;h2&gt;Section <span class="number">1</span>&lt;/h2&gt;</span><br><span class="line">    @Html.Sitecore().DynamicPlaceholder(<span class="string">"column"</span>, count: <span class="number">2</span>, seed: <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">    &lt;h2&gt;Section <span class="number">2</span>&lt;/h2&gt;</span><br><span class="line">    @Html.Sitecore().DynamicPlaceholder(<span class="string">"column"</span>, count: <span class="number">2</span>, seed: <span class="number">200</span>)</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>Now your placeholders will not conflict.</p>
<h2 id="Updating-from-existing-solutions"><a href="#Updating-from-existing-solutions" class="headerlink" title="Updating from existing solutions"></a>Updating from existing solutions</h2><p>One big question is going to be - How can I update my existing solution to use the Sitecore version? Well stay tuned, that will be the subject of another post.</p>
<p>– Richard</p>

      </div>
      <footer class="article-footer">
        <a data-url="http://www.sitecorenutsbolts.net/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/" data-id="cka5tzg9o0045gsvrwqsmr16d" class="article-share-link">Share</a>
        
          <a href="http://www.sitecorenutsbolts.net/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/#comments" class="article-comment-link">Comments</a>
        
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dynamic-Placeholders/">Dynamic Placeholders</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sitecore/">Sitecore</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sitecore-9/">Sitecore 9</a></li></ul>

      </footer>
    </div>
  </article>
  
    <section id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </section>
  


<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55d6161f325b85fa" async="async"></script>
            </div>
          </section>
          <aside id="sidebar">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
  <div class="sidebar-top">
    <p>follow:</p>
    <ul class="social-links">
      
    </ul>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/10/30/Sitecore-React-Getting-Started-4-Sitecore-Integration/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">newer</strong>
      <p class="article-nav-title">
        
          Sitecore.React - Getting Started - 4. Sitecore Integration
        
      </p>
      <i class="icon" id="icon-chevron-right"></i>
    </a>
  
  
    <a href="/2017/10/17/Sitecore-9-Upgrading-to-Dynamic-Placeholders/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <p class="article-nav-title">Sitecore 9: Upgrading to Dynamic Placeholders</p>
      <i class="icon" id="icon-chevron-left"></i>
    </a>
  
</nav>

  
  <div class="widgets-container">
    
  </div>
</aside>
        </div>
      </div>
    </div>
    <footer id="footer">
  
  <div class="container">
    <div class="container-inner">
      <a id="back-to-top" href="javascript:;"><i class="icon" id="icon-angle-up"></i></a>
      <div class="credit">
        <h1 class="logo-wrap">
          <a href="/" class="logo"></a>
        </h1>
        <p>&copy; 2020 Richard Seal</p>
        <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>.
      </p></div>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'sitecorenutsbolts';
  
  var disqus_url = 'http://www.sitecorenutsbolts.net/2017/10/17/Sitecore-9-Dynamic-Placeholders-At-Last/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



  <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>






<script src="/js/html-patch.js"></script>
<script src="/js/script.js"></script>
<script src="/js/readingTime.min.js"></script>

<script>
  $(function() {
    $('.article-entry').readingTime();
  });
</script>

  </div>
</body>
</html>
